<div class="container mt-4">
  <h2>Update User</h2>

  <form #userForm="ngForm" (ngSubmit)="onSubmit()" >
<!-- User ID (Read-only) -->
<div class="mb-3">
  <label for="userId" class="form-label">User ID</label>
  <input type="number" id="userId" class="form-control"
         [(ngModel)]="user.userId" name="userId" disabled>
</div>

    <!-- Name -->
    <div class="mb-3">
      <label for="name" class="form-label">Name</label>
      <input type="text" id="name" class="form-control"
             [(ngModel)]="user.name" name="name" required
             #nameCtrl="ngModel">
      <div class="text-danger" *ngIf="nameCtrl.touched && nameCtrl.invalid">
        Name is required.
      </div>
    </div>

    <!-- Email -->
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input type="email" id="email" class="form-control"
             [(ngModel)]="user.email" name="email" required email
             #emailCtrl="ngModel">
      <div class="text-danger" *ngIf="emailCtrl.touched">
        <div *ngIf="emailCtrl.errors?.['required']">Email is required.</div>
        <div *ngIf="emailCtrl.errors?.['email']">Invalid email format.</div>
      </div>
    </div>

    <!-- Password 
    <div class="mb-3">
      <label for="password" class="form-label">Password</label>
      <input type="password" id="password" class="form-control"
             [(ngModel)]="user.password" name="password" required minlength="6"
             #passCtrl="ngModel">
      <div class="text-danger" *ngIf="passCtrl.touched">
        <div *ngIf="passCtrl.errors?.['required']">Password is required.</div>
        <div *ngIf="passCtrl.errors?.['minlength']">Minimum 6 characters.</div>
      </div>
    </div> -->

    <!-- Role -->
    <div class="mb-3">
      <label class="form-label d-block">Role</label>
      <div class="form-check form-check-inline">
        <input type="radio" class="form-check-input" id="rolePatient" name="role" value="PATIENT"
               [(ngModel)]="user.role" required #roleCtrl="ngModel">
        <label class="form-check-label" for="rolePatient">Patient</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="radio" class="form-check-input" id="roleDoctor" name="role" value="DOCTOR"
               [(ngModel)]="user.role">
        <label class="form-check-label" for="roleDoctor">Doctor</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="radio" class="form-check-input" id="roleAdmin" name="role" value="ADMIN"
               [(ngModel)]="user.role">
        <label class="form-check-label" for="roleAdmin">Admin</label>
      </div>
      <div class="text-danger mt-1" *ngIf="roleCtrl.invalid && roleCtrl.touched">Role is required.</div>
    </div>

    <!-- Gender -->
    <div class="mb-3">
      <label class="form-label d-block">Gender</label>
      <div class="form-check form-check-inline">
        <input type="radio" class="form-check-input" id="genderMale" name="gender" value="Male"
               [(ngModel)]="user.gender" required #genderCtrl="ngModel">
        <label class="form-check-label" for="genderMale">Male</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="radio" class="form-check-input" id="genderFemale" name="gender" value="Female"
               [(ngModel)]="user.gender">
        <label class="form-check-label" for="genderFemale">Female</label>
      </div>
      <div class="form-check form-check-inline">
        <input type="radio" class="form-check-input" id="genderOther" name="gender" value="Other"
               [(ngModel)]="user.gender">
        <label class="form-check-label" for="genderOther">Other</label>
      </div>
      <div class="text-danger mt-1" *ngIf="genderCtrl.invalid && genderCtrl.touched">Gender is required.</div>
    </div>

    <!-- Date of Birth -->
    <div class="mb-3">
      <label for="dob" class="form-label">Date of Birth</label>
      <input type="date" id="dob" class="form-control"
             [(ngModel)]="user.dateOfBirth" name="dateOfBirth" required
             #dobCtrl="ngModel">
      <div class="text-danger" *ngIf="dobCtrl.invalid && dobCtrl.touched">Date of Birth is required.</div>
    </div>

    <!-- Contact Number -->
    <div class="mb-4">
      <label for="contact" class="form-label">Contact Number</label>
      <input type="text" id="contact" class="form-control" pattern="\d{10}" required
             [(ngModel)]="user.contactNumber" name="contactNumber"
             #contactCtrl="ngModel">
      <div class="text-danger" *ngIf="contactCtrl.touched">
        <div *ngIf="contactCtrl.errors?.['required']">Contact number is required.</div>
        <div *ngIf="contactCtrl.errors?.['pattern']">Must be 10 digits.</div>
      </div>
    </div>

    <!-- Buttons -->
    <button type="submit" class="btn btn-primary" [disabled]="userForm.invalid">Update</button>
    <button type="button" class="btn btn-secondary ms-2" (click)="goBack()">Cancel</button>
  </form>
</div>
